#include "tile-tvbgone.h"

#define BLUE  RGB(0x5,0x9,0xf)

static tile_t tile_tvbgone;
widget_frame_t frame;
widget_label_t lbl_title;
widget_button_t btn_emit;
widget_switch_t sw_run;
widget_label_t lbl_run;
TaskHandle_t xHandle = NULL;

volatile bool is_shuttingdown = false;

const char* TVBGONE_TAG = "TVBGone";

static const int codes_eu[] = {
   35714, 80, 0,
   30303, 62, 80,
   33333, 52, 142,
   38400, 52, 194,
   37037, 200, 246,
   38610, 128, 446,
   38462, 136, 574,
   38462, 104, 710,
   38462, 76, 814,
   35714, 48, 890,
   38610, 76, 938,
   38462, 76, 1014,
   33445, 52, 1090,
   38462, 176, 1142,
   38462, 76, 1318,
   38462, 272, 1394,
   33333, 68, 1666,
   33333, 48, 1734,
   38462, 76, 1782,
   38462, 76, 1858,
   35714, 68, 1934,
   38462, 76, 2002,
   38462, 76, 2078,
   38462, 76, 2154,
   38462, 76, 2230,
   31250, 42, 2306,
   38462, 48, 2348,
   38462, 76, 2396,
   30303, 62, 2472,
   34483, 92, 2534,
   38462, 76, 2626,
   38462, 104, 2702,
   33333, 52, 2806,
   38462, 28, 2858,
   38462, 76, 2886,
   38462, 76, 2962,
   38462, 48, 3038,
   0, 22, 3086,
   40161, 48, 3108,
   35714, 104, 3156,
   33333, 56, 3260,
   38462, 76, 3316,
   41667, 4, 3392,
   38462, 76, 3396,
   41667, 20, 3472,
   34602, 32, 3492,
   0, 34, 3524,
   38462, 76, 3558,
   38462, 80, 3634,
   33333, 96, 3714,
   38462, 104, 3810,
   31250, 48, 3914,
   34483, 32, 3962,
   31250, 28, 3994,
   38462, 76, 4022,
   38462, 8, 4098,
   38462, 76, 4106,
   41667, 8, 4182,
   38462, 68, 4190,
   35714, 48, 4258,
   38462, 68, 4306,
   38462, 76, 4374,
   30395, 58, 4450,
   30303, 62, 4508,
   38462, 80, 4570,
   38462, 24, 4650,
   38610, 62, 4674,
   0, 46, 4736,
   0, 46, 4782,
   38462, 48, 4828,
   0, 46, 4876,
   34483, 32, 4922,
   35714, 52, 4954,
   0, 46, 5006,
   38462, 48, 5052,
   30303, 62, 5100,
   0, 24, 5162,
   38462, 136, 5186,
   38462, 136, 5322,
   38462, 160, 5458,
   40000, 136, 5618,
   33333, 48, 5754,
   38462, 48, 5802,
   38462, 76, 5850,
   33333, 48, 5926,
   38462, 48, 5974,
   38462, 48, 6022,
   38462, 76, 6070,
   0, 58, 6146,
   38462, 60, 6204,
   40000, 44, 6264,
   35714, 22, 6308,
   0, 58, 6330,
   34483, 32, 6388,
   38462, 60, 6420,
   34483, 32, 6480,
   0, 54, 6512,
   35714, 92, 6566,
   0, 54, 6658,
   38462, 48, 6712,
   38462, 48, 6760,
   34483, 48, 6808,
   38462, 48, 6856,
   38610, 76, 6904,
   38462, 118, 6980,
   33333, 48, 7098,
   38462, 48, 7146,
   38462, 44, 7194,
   38462, 136, 7238,
   31250, 42, 7374,
   38462, 80, 7416,
   31250, 28, 7496,
   30303, 62, 7524,
   58824, 154, 7586,
   0, 58, 7740,
   31250, 28, 7798,
   34483, 48, 7826,
   38462, 48, 7874,
   38462, 164, 7922,
   38462, 104, 8086,
   38462, 164, 8190,
   40000, 48, 8354,
   38462, 76, 8402,
   38462, 136, 8478,
   38462, 76, 8614,
   38462, 48, 8690,
   41667, 16, 8738,
   38462, 90, 8754,
   38462, 90, 8844,
   38462, 48, 8934,
   0, 46, 8982,
   38462, 48, 9028,
   40000, 48, 9076,
   0, 46, 9124,
   38462, 76, 9170,
   35714, 44, 9246,
   0, 22, 9290,
   0, 60, 9312,
  };

static const int codes2_eu[] = {
  2640,900,430,910,430,470,430,470,1330,1330,430,470,430,470,430,470,430,470,430,470,430,470,430,470,430,470,430,470,430,470,430,470,
  880,470,430,910,430,470,430,83240,2640,910,430,910,430,470,430,470,1330,1330,430,470,430,470,430,470,430,470,430,470,430,470,430,470,
  430,470,430,470,430,470,430,470,880,470,430,910,430,470,430,910,470,2650,510,540,510,540,510,540,510,540,510,540,510,540,510,540,
  510,540,510,540,510,20530,510,2630,510,1080,1000,1090,510,540,510,540,510,540,510,540,510,540,510,540,510,116470,510,2630,510,1080,1000,1090,
  510,540,510,540,510,540,510,540,510,540,510,540,510,540,430,2060,460,2040,460,4560,460,4560,460,2040,460,2040,460,2040,460,4560,460,4560,
  460,4560,460,2040,460,4560,460,34880,460,2040,460,2040,460,4560,460,4560,460,2040,460,2040,460,2040,460,4560,460,4560,460,4560,460,2040,460,4560,
  460,2040,2400,600,1200,600,600,600,1200,600,600,600,1200,600,600,600,600,600,1200,600,600,600,600,600,600,600,600,27000,2400,600,1200,600,
  600,600,1200,600,600,600,1200,600,600,600,600,600,1200,600,600,600,600,600,600,600,600,27000,3460,1760,440,450,440,1310,440,450,440,450,
  440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,1310,440,450,440,450,440,450,440,450,440,450,440,450,
  440,450,440,450,440,450,440,1310,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,1310,440,450,440,1310,440,1310,
  440,1310,440,1310,440,450,440,450,440,1310,440,450,440,1310,440,1310,440,1310,440,1310,440,450,440,1310,440,74620,3460,1780,440,450,440,1310,
  440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,1310,440,450,440,450,440,450,440,450,
  440,450,440,450,440,450,440,450,440,450,440,1310,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,450,440,1310,440,450,
  440,1310,440,1310,440,1310,440,1310,440,450,440,450,440,1310,440,450,440,1310,440,1310,440,1310,440,1310,440,450,440,1310,440,450,240,1900,
  250,800,250,800,250,800,250,800,250,800,250,1900,250,1900,250,800,250,1900,250,800,250,800,250,800,250,1900,250,800,250,47990,250,1900,
  250,800,250,800,250,800,250,800,250,1900,250,800,250,800,250,1900,250,800,250,1900,250,1900,250,1900,250,800,250,1900,250,41990,250,1900,
  250,800,250,800,250,800,250,800,250,800,250,1900,250,1900,250,800,250,1900,250,800,250,800,250,800,250,1900,250,800,250,47990,250,1900,
  250,800,250,800,250,800,250,800,250,1900,250,800,250,800,250,1900,250,800,250,1900,250,1900,250,1900,250,800,250,1900,250,800,4550,4680,
  530,1720,530,1720,530,1720,530,630,530,630,530,630,530,630,530,630,530,1720,530,1720,530,1720,530,630,530,630,530,630,530,630,530,630,
  530,630,530,1720,530,630,530,630,530,630,530,630,530,630,530,630,530,1720,530,630,530,1720,530,1720,530,1720,530,1720,530,1720,530,1720,
  530,44720,4550,4680,530,1720,530,1720,530,1720,530,630,530,630,530,630,530,630,530,630,530,1720,530,1720,530,1720,530,630,530,630,530,630,
  530,630,530,630,530,630,530,1720,530,630,530,630,530,630,530,630,530,630,530,630,530,1720,530,630,530,1720,530,1720,530,1720,530,1720,
  530,1720,530,1720,540,0,8380,4220,500,1590,500,1590,500,540,500,540,500,540,500,540,500,540,500,540,500,1590,500,1590,500,1590,500,540,
  500,1590,500,540,500,540,500,540,500,23070,500,1590,500,1590,500,540,500,540,500,540,500,540,500,540,500,540,500,1590,500,1590,500,1590,
  500,540,500,1590,500,540,500,540,500,540,500,23070,500,1590,500,1590,500,540,500,540,500,540,500,540,500,540,500,540,500,1590,500,1590,
  500,1590,500,540,500,1590,500,540,500,540,500,540,500,1590,8980,4530,550,570,550,570,550,570,550,570,550,1700,550,570,550,1700,550,570,
  550,1700,550,1700,550,1700,550,1700,550,570,550,1700,550,570,550,1700,550,1700,550,1700,550,1700,550,570,550,1700,550,570,550,570,550,570,
  550,570,550,570,550,570,550,1700,550,570,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,880,900,1770,910,880,910,
  880,910,880,910,880,910,880,910,880,910,880,1810,880,910,1770,910,880,89760,880,910,1770,910,880,910,880,910,880,910,880,910,880,910,
  880,910,880,1810,880,910,1770,910,880,900,8980,4530,550,570,550,570,550,570,550,570,550,570,550,570,550,1700,550,570,550,1700,550,1700,
  550,1700,550,1700,550,1700,550,1700,550,570,550,1700,550,570,550,1700,550,570,550,570,550,1700,550,570,550,570,550,570,550,1700,550,570,
  550,1700,550,1700,550,570,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,8980,4510,530,1710,530,560,530,560,530,560,
  530,1710,530,1710,530,560,530,560,530,1710,530,560,530,560,530,1710,530,560,530,560,530,1710,530,560,530,1710,530,1710,530,560,530,560,
  530,560,530,1710,530,1710,530,560,530,560,530,560,530,1710,530,1710,530,1710,530,560,530,560,530,1710,530,39500,9000,2260,530,95990,9000,2260,
  530,1710,460,2060,460,2060,460,4590,460,4590,460,2060,460,2060,460,2060,460,4590,460,4590,460,4590,460,2060,460,4590,460,34470,460,2060,460,2060,
  460,4590,460,4590,460,2060,460,2060,460,2060,460,4590,460,4590,460,4590,460,2060,460,4590,460,2060,8950,4490,530,1710,530,1710,530,590,530,1710,
  530,1710,530,1710,530,1710,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,1710,530,590,530,590,530,590,530,590,
  530,1710,530,1710,530,1710,530,1710,530,1710,530,1710,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,1710,530,1710,
  530,1710,530,1710,530,1710,530,1710,530,1710,530,1710,530,23020,8950,4490,530,1710,530,1710,530,590,530,1710,530,1710,530,1710,530,1710,530,590,
  530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,1710,530,590,530,590,530,590,530,590,530,1710,530,1710,530,1710,530,1710,
  530,1710,530,1710,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,1710,530,1710,530,1710,530,1710,530,1710,530,1710,
  530,1710,530,1710,530,1710,7990,4000,480,520,480,520,480,1600,480,520,480,1600,480,520,480,520,480,520,480,4000,480,1600,480,520,480,1600,
  480,520,480,1600,480,520,480,520,480,520,480,23350,7990,4000,480,520,480,520,480,1600,480,520,480,1600,480,520,480,520,480,520,480,4000,
  480,1600,480,520,480,1600,480,520,480,1600,480,520,480,520,480,520,480,520,8510,4250,530,540,530,1560,530,540,530,1560,530,540,530,1560,
  530,540,530,1560,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,540,530,540,530,1560,530,1560,530,1560,530,540,
  530,540,530,540,530,1560,530,1560,530,540,530,540,530,540,530,1560,530,1560,530,1560,530,25420,8530,4240,530,540,530,1560,530,540,530,1560,
  530,540,530,1560,530,540,530,1560,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,540,530,540,530,1560,530,1560,
  530,1560,530,540,530,540,530,540,530,1560,530,1560,530,540,530,540,530,540,530,1560,530,1560,530,1560,530,25420,8530,4240,530,540,530,1560,
  530,540,530,1560,530,540,530,1560,530,540,530,1560,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,540,530,540,
  530,1560,530,1560,530,1560,530,540,530,540,530,540,530,1560,530,1560,530,540,530,540,530,540,530,1560,530,1560,530,1560,530,25420,8530,4240,
  530,540,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,1560,530,1560,530,540,530,1560,530,540,530,1560,530,540,530,1560,530,540,
  530,540,530,540,530,1560,530,1560,530,1560,530,540,530,540,530,540,530,1560,530,1560,530,540,530,540,530,540,530,1560,530,1560,530,1560,
  530,540,280,2130,280,2140,280,2140,280,920,280,920,280,920,280,2140,280,920,280,920,280,2140,280,920,280,920,280,920,280,920,280,920,
  280,920,280,27710,280,2140,280,2140,280,2140,280,920,280,920,280,920,280,2140,280,920,280,920,280,2140,280,920,280,920,280,920,280,920,
  280,920,280,920,280,2130,150,8440,160,5570,160,8440,160,8440,160,8440,160,5570,160,8440,160,8440,160,8440,160,5570,160,8440,160,52240,160,8440,
  160,5570,160,8440,160,8440,160,8440,160,5570,160,8440,160,8440,160,8440,160,5570,160,8440,160,5570,8980,4530,550,570,550,570,550,570,550,1700,
  550,1700,550,1700,550,570,550,570,550,1700,550,1700,550,1700,550,570,550,570,550,570,550,1700,550,1700,550,570,550,570,550,1700,550,1700,
  550,1700,550,570,550,570,550,570,550,1700,550,1700,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,
  560,0,8430,4180,500,540,500,1580,500,540,500,540,500,540,500,540,500,540,500,540,500,4180,500,540,500,1580,500,1580,500,1580,500,540,
  500,540,500,540,500,540,500,24430,8430,4180,500,540,500,1580,500,540,500,540,500,540,500,540,500,540,500,540,500,4180,500,540,500,1580,
  500,1580,500,1580,500,540,500,540,500,540,500,540,500,540,480,3010,480,10010,480,3010,480,10010,480,3010,480,10010,480,3010,480,3010,480,3010,
  480,3010,480,3010,480,3010,480,3010,480,3010,480,3010,480,6510,480,30010,480,3010,480,10010,480,3010,480,10010,480,3010,480,10010,480,3010,480,3010,
  480,3010,480,3010,480,3010,480,3010,480,3010,480,3010,480,3010,480,6510,480,3010,8980,4510,530,1710,530,1710,530,560,530,560,530,560,530,560,
  530,560,530,1710,530,560,530,1710,530,560,530,1710,530,1710,530,1710,530,1710,530,560,530,560,530,560,530,560,530,1710,530,560,530,560,
  530,560,530,560,530,1710,530,1710,530,1710,530,560,530,1710,530,1710,530,1710,530,1710,530,39500,9000,2260,530,95990,9000,2260,530,1710,8980,4530,
  550,1700,550,1700,550,570,550,570,550,1700,550,570,550,1700,550,570,550,570,550,570,550,1700,550,1700,550,570,550,1700,550,570,550,1700,
  550,1700,550,1700,550,1700,550,570,550,1700,550,570,550,570,550,570,550,570,550,570,550,570,550,1700,550,570,550,1700,550,1700,550,1700,
  550,39490,9000,2260,550,96230,9000,2260,560,0,8920,4500,530,600,530,600,530,600,530,1750,530,1750,530,600,530,600,530,600,530,600,530,600,
  530,600,530,1750,530,1750,530,600,530,600,530,600,530,600,530,600,530,600,530,600,530,600,530,600,530,1750,530,1750,530,1750,530,1750,
  530,1750,530,1750,530,1750,530,1750,530,600,530,600,530,44630,8950,2250,530,94530,8950,2250,530,600,8980,4530,550,570,550,570,550,570,550,1700,
  550,1700,550,1700,550,570,550,570,550,1700,550,1700,550,1700,550,570,550,570,550,570,550,1700,550,1700,550,570,550,570,550,570,550,570,
  550,1700,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,1700,550,570,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,
  560,0,490,2500,490,1020,1000,520,490,520,490,520,490,520,490,23770,490,2520,490,1020,1000,1020,490,520,490,520,490,520,490,120090,490,2520,
  490,1020,1000,1020,490,520,490,520,490,520,490,2500,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,4910,140,7430,140,4910,
  140,4910,140,49260,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,4910,140,7430,140,4910,140,4910,140,7430,8980,4530,550,570,
  550,1700,550,570,550,1700,550,570,550,1700,550,570,550,1700,550,1700,550,570,550,1700,550,570,550,1700,550,570,550,1700,550,570,550,1700,
  550,570,550,1700,550,570,550,570,550,570,550,1700,550,1700,550,570,550,1700,550,570,550,1700,550,1700,550,1700,550,570,550,570,550,39490,
  9000,2260,550,96230,9000,2260,560,0,470,2670,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,20550,500,2650,
  500,1100,500,550,1000,570,500,1100,500,550,500,550,500,550,500,550,500,121170,500,2650,500,1100,500,550,1000,570,500,1100,500,550,500,550,
  500,550,500,550,500,550,500,2510,500,990,1020,490,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
  500,500,500,500,500,14450,500,2520,500,990,500,500,1020,490,500,990,500,500,500,500,500,500,1020,980,500,500,500,500,500,500,500,500,
  500,500,500,110140,500,2520,500,990,500,500,1020,490,500,990,500,500,500,500,500,500,1020,980,500,500,500,500,500,500,500,500,500,500,
  500,2510,8980,4530,550,570,550,570,550,1700,550,570,550,570,550,570,550,570,550,570,550,1700,550,1700,550,570,550,1700,550,1700,550,1700,
  550,1700,550,1700,550,570,550,570,550,570,550,1700,550,570,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,570,550,1700,550,1700,
  550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,8380,4220,530,1600,530,1600,530,1600,530,1600,530,1600,530,530,530,530,530,530,
  530,1600,530,1600,530,1600,530,530,530,1600,530,530,530,1600,530,1600,530,16970,530,1600,530,1600,530,1600,530,1600,530,1600,530,530,530,530,
  530,530,530,1600,530,1600,530,1600,530,530,530,1600,530,530,530,1600,530,1600,530,16970,530,1600,530,1600,530,1600,530,1600,530,1600,530,530,
  530,530,530,530,530,1600,530,1600,530,1600,530,530,530,1600,530,530,530,1600,530,1600,530,1600,490,2050,490,2060,490,4560,490,4560,490,2060,
  490,2060,490,2060,490,4560,490,4560,490,4560,490,2060,490,2060,490,36900,490,2060,490,2060,490,4560,490,4560,490,2060,490,2060,490,2060,490,4560,
  490,4560,490,4560,490,2060,490,2060,490,2050,480,1500,500,3470,500,3470,500,3470,500,1490,500,1490,500,29360,500,1490,500,3470,500,3470,500,3470,
  500,1490,500,1490,500,3470,8980,4530,550,570,550,570,550,570,550,1700,550,1700,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,570,
  550,570,550,1700,550,1700,550,1700,550,570,550,570,550,570,550,1700,550,570,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,570,
  550,1700,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,8980,4530,550,1700,550,570,550,570,550,570,550,1700,550,1700,
  550,1700,550,570,550,570,550,1700,550,1700,550,1700,550,570,550,570,550,570,550,1700,550,570,550,570,550,570,550,1700,550,570,550,570,
  550,570,550,570,550,1700,550,1700,550,1700,550,570,550,1700,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,140,7430,
  140,4910,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,4910,140,4910,140,4910,140,51780,140,7430,140,4910,140,7430,140,7430,140,7430,
  140,7430,140,4910,140,4910,140,4910,140,4910,140,4910,140,7430,30,10020,30,10020,30,14950,30,14950,30,14950,30,30590,30,10020,30,10020,30,14950,
  30,14950,30,14950,130,6740,130,6750,130,6750,130,6750,130,6750,130,4450,130,4450,130,6750,130,6750,130,4450,130,4450,130,45830,130,6750,130,6750,
  130,6750,130,6750,130,6750,130,4450,130,4450,130,6750,130,6750,130,4450,130,4450,130,6740,3470,3500,850,890,850,2640,850,2640,850,890,850,2640,
  850,890,850,890,850,2640,850,890,850,2640,850,890,850,890,850,2640,850,890,850,890,850,2640,850,890,850,2640,850,2640,850,890,850,2640,
  850,890,850,2640,850,2640,850,34020,3480,3500,850,890,850,2640,850,2640,850,890,850,2640,850,890,850,890,850,2640,850,890,850,2640,850,890,
  850,890,850,2640,850,890,850,890,850,2640,850,890,850,2640,850,2640,850,890,850,2640,850,890,850,2640,850,2640,850,890,460,3000,490,9970,
  490,2980,490,9970,490,2980,490,9970,490,2980,490,6480,490,6480,490,6480,490,6480,490,2980,490,2980,490,30560,490,2980,490,9970,490,2980,490,9970,
  490,2980,490,9970,490,2980,490,6480,490,6480,490,6480,490,6480,490,2980,490,2980,490,9970,8980,4510,530,560,530,560,530,560,530,560,530,560,
  530,560,530,560,530,1710,530,1710,530,1710,530,1710,530,1710,530,560,530,1710,530,1710,530,560,530,560,530,1710,530,560,530,1710,530,560,
  530,560,530,560,530,560,530,1710,530,560,530,1710,530,560,530,1710,530,1710,530,1710,530,1710,530,39500,9000,2260,530,95990,9000,2260,530,560,
  10370,42160,10400,0,8980,4530,550,570,550,570,550,570,550,1700,550,570,550,570,550,1700,550,570,550,1700,550,1700,550,1700,550,570,550,1700,
  550,1700,550,570,550,1700,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,1700,550,1700,
  550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,1520,4710,1540,1560,1540,1560,1540,4690,1540,29470,1540,4690,1540,1560,1540,1560,
  1540,4690,1540,1560,150,4930,160,4930,160,4930,160,6980,160,6980,160,6980,160,6980,160,14140,160,4930,160,4930,160,4930,160,6980,160,6980,160,6980,
  160,6980,160,4930,30,7450,30,4960,30,4960,30,7450,30,4960,30,14880,30,7450,30,4960,30,4960,30,7450,30,4960,30,14880,30,7450,30,4960,
  30,4960,30,7450,30,4960,8980,4510,530,560,530,560,530,560,530,560,530,560,530,560,530,560,530,1710,530,1710,530,1710,530,560,530,1710,
  530,1710,530,1710,530,1710,530,560,530,1710,530,1710,530,560,530,560,530,1710,530,560,530,560,530,560,530,560,530,560,530,1710,530,1710,
  530,560,530,1710,530,1710,530,1710,530,39500,9000,2260,530,95990,9000,2260,530,560,4480,4450,550,550,550,1670,550,1670,550,1670,550,550,550,550,
  550,550,550,550,550,550,550,1670,550,1670,550,1670,550,550,550,550,550,550,550,550,550,550,550,550,550,1670,550,550,550,1670,550,550,
  550,550,550,550,550,1670,550,1670,550,550,550,1670,550,550,550,1670,550,1670,550,1670,550,45770,4500,4440,550,1670,550,95060,4500,4440,550,1670,
  550,550,3610,3580,910,880,910,880,910,880,910,880,910,880,910,880,910,880,910,880,910,880,910,880,910,2670,910,2670,910,2670,910,2670,
  910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,880,910,36210,3610,3590,910,880,910,880,910,880,910,880,910,880,910,880,
  910,880,910,880,910,880,910,880,910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,2670,910,880,
  910,880,3470,3470,840,880,840,2610,840,880,840,2610,840,880,840,880,840,880,840,2610,840,880,840,2610,840,880,840,880,840,2610,840,880,
  840,2610,840,880,840,2610,840,2610,840,2610,840,880,840,2610,840,880,840,2610,840,2610,840,33600,3470,3480,840,880,840,2610,840,880,840,2610,
  840,880,840,880,840,880,840,2610,840,880,840,2610,840,880,840,880,840,2610,840,880,840,2610,840,880,840,2610,840,2610,840,2610,840,880,
  840,2610,840,880,840,2610,840,2610,840,880,160,8380,170,5580,170,8390,170,8390,170,8390,170,5580,170,8390,170,8390,170,8390,170,5580,170,8390,
  170,63280,170,8390,170,5580,170,8390,170,8390,170,8390,170,5580,170,8390,170,8390,170,8390,170,5580,170,8390,170,5580,150,4930,160,6980,160,4930,
  160,6980,160,6980,160,6980,160,6980,160,14140,160,4930,160,6980,160,4930,160,6980,160,6980,160,6980,160,6980,160,6980,490,2620,490,530,490,530,
  490,1040,1000,1030,490,530,490,80300,490,2640,490,530,490,530,490,1040,1000,1030,490,530,490,2620,8980,4510,530,560,530,560,530,560,530,560,
  530,560,530,560,530,560,530,1710,530,560,530,1710,530,1710,530,1710,530,1710,530,1710,530,1710,530,560,530,560,530,560,530,560,530,1710,
  530,1710,530,560,530,560,530,560,530,1710,530,1710,530,1710,530,560,530,560,530,1710,530,1710,530,1710,530,39500,9000,2260,530,95990,9000,2260,
  530,560,1120,1070,6770,27660,1130,1070,6770,27660,8980,4510,530,560,530,560,530,560,530,560,530,560,530,560,530,560,530,1710,530,1710,530,560,
  530,1710,530,560,530,1710,530,1710,530,1710,530,560,530,560,530,1710,530,560,530,1710,530,560,530,560,530,560,530,560,530,1710,530,560,
  530,1710,530,560,530,1710,530,1710,530,1710,530,1710,530,39500,9000,2260,530,95990,9000,2260,530,560,3100,6130,6220,83120,3100,6140,6220,83120,500,1580,
  530,1560,530,510,530,510,530,510,530,510,530,1560,530,510,530,1560,530,510,530,1560,530,1560,530,510,530,510,530,1560,530,1560,530,21800,
  530,1560,530,1560,530,510,530,510,530,510,530,510,530,1560,530,510,530,1560,530,510,530,1560,530,1560,530,510,530,510,530,1560,530,1560,
  530,1560,880,900,1770,910,880,910,880,910,880,910,880,910,880,1810,1770,910,880,910,880,910,880,910,880,89760,880,910,1770,910,880,910,
  880,910,880,910,880,910,880,1810,1770,910,880,910,880,910,880,910,880,900,500,1580,530,1560,530,510,530,510,530,1560,530,510,530,1560,
  530,510,530,1560,530,510,530,1560,530,1560,530,510,530,510,530,1560,530,1560,530,21800,530,1560,530,1560,530,510,530,510,530,1560,530,510,
  530,1560,530,510,530,1560,530,510,530,1560,530,1560,530,510,530,510,530,1560,530,1560,530,1560,8980,4510,530,560,530,560,530,560,530,560,
  530,560,530,560,530,560,530,1710,530,1710,530,1710,530,1710,530,560,530,1710,530,560,530,1710,530,560,530,560,530,1710,530,560,530,1710,
  530,560,530,560,530,560,530,560,530,1710,530,560,530,1710,530,560,530,1710,530,1710,530,1710,530,1710,530,39500,9000,2260,530,95990,9000,2260,
  530,560,470,2670,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,20550,500,2650,500,550,500,550,500,1100,
  500,550,1000,570,500,1100,1000,1120,500,121170,500,2650,500,550,500,550,500,1100,500,550,1000,570,500,1100,1000,1120,500,550,470,2670,500,550,
  500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,20550,500,2650,500,550,500,550,500,550,500,1100,500,550,1000,1120,
  500,550,500,550,500,121170,500,2650,500,550,500,550,500,550,500,1100,500,550,1000,1120,500,550,500,550,500,550,4480,4450,550,1670,550,1670,
  550,550,550,1670,550,550,550,550,550,550,550,550,550,1670,550,1670,550,550,550,1670,550,550,550,550,550,550,550,550,550,550,550,1670,
  550,550,550,1670,550,550,550,550,550,550,550,550,550,1670,550,550,550,1670,550,550,550,1670,550,1670,550,1670,550,1670,550,45770,4500,4440,
  550,550,550,95060,4500,4440,550,550,550,1670,940,7280,940,4730,940,4730,940,7280,940,4730,1020,16370,940,7280,940,4730,940,4730,940,7280,940,4730,
  1020,16370,490,2630,500,540,500,540,500,540,500,540,500,540,500,540,500,540,500,540,500,540,500,20290,500,2630,500,1080,500,540,500,540,
  500,540,500,540,1000,1100,500,540,500,540,500,101990,500,2630,500,1080,500,540,500,540,500,540,500,540,1000,1100,500,540,500,540,500,540,
  40,4990,40,4990,40,7500,40,7500,40,7500,40,7500,40,7500,40,4990,40,4990,40,4990,40,7500,40,49990,40,4990,40,4990,40,7500,40,7500,
  40,7500,40,7500,40,7500,40,4990,40,4990,40,4990,40,7500,40,4990,40,7500,40,7500,40,4990,40,7500,40,7500,40,7500,40,4990,40,4990,
  40,4990,40,7500,40,49990,40,4990,40,7500,40,7500,40,4990,40,7500,40,7500,40,7500,40,4990,40,4990,40,4990,40,7500,140,7430,140,4910,
  140,7430,140,7430,140,7430,140,4910,140,7430,140,4910,140,7430,140,7430,140,7430,140,44220,140,7430,140,4910,140,7430,140,7430,140,7430,140,4910,
  140,7430,140,4910,140,7430,140,7430,140,7430,140,7430,50,8540,50,8540,50,8540,50,8540,50,8540,50,5680,50,8540,50,8540,50,8540,50,5680,
  50,8540,50,49990,50,8540,50,8540,50,8540,50,8540,50,8540,50,5680,50,8540,50,8540,50,8540,50,5680,50,8540,150,4930,160,4930,160,6980,
  160,4930,160,4930,160,4930,160,4930,160,14140,160,4930,160,4930,160,6980,160,4930,160,4930,160,4930,160,4930,160,4930,880,890,880,900,880,900,
  880,900,880,900,880,900,880,900,880,900,880,900,880,1790,880,900,1770,900,880,89770,880,900,880,900,880,900,880,900,880,900,880,900,
  880,900,880,900,880,900,880,1790,880,900,1770,900,880,890,60,5660,60,5660,60,8510,60,8510,60,8510,60,5660,60,8510,60,8510,60,8510,
  60,5660,60,8510,60,54740,60,5660,60,5660,60,8510,60,8510,60,8510,60,5660,60,8510,60,8510,60,8510,60,5660,60,8510,140,8430,160,8410,
  160,8410,160,8410,160,8410,160,5550,160,8410,160,8410,160,8410,160,5550,160,8410,160,49110,160,8410,160,8410,160,8410,160,8410,160,8410,160,5550,
  160,8410,160,8410,160,8410,160,5550,160,8410,160,8410,470,2670,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,
  500,20550,500,2650,500,550,500,550,500,1100,500,550,1000,570,500,1100,500,550,500,550,500,121170,500,2650,500,550,500,550,500,1100,500,550,
  1000,570,500,1100,500,550,500,550,500,550,60,20980,60,13390,60,9250,60,9250,60,9250,60,9250,60,27870,60,13390,60,9250,60,9250,60,9250,
  60,9250,8920,4480,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,1700,530,1700,530,1700,530,590,530,590,530,590,530,1700,
  530,1700,530,590,530,1700,530,1700,530,1700,530,1700,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,1700,530,1700,
  530,1700,530,1700,530,43590,8930,4480,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,1700,530,1700,530,1700,530,590,530,590,
  530,590,530,1700,530,1700,530,590,530,1700,530,1700,530,1700,530,1700,530,590,530,590,530,590,530,590,530,590,530,590,530,590,530,590,
  530,1700,530,1700,530,1700,530,1700,530,590,8950,4480,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,1670,550,570,550,570,
  550,1670,550,570,550,570,550,1670,550,1670,550,570,550,1670,550,570,550,570,550,1670,550,570,550,570,550,1670,550,570,550,570,550,1670,
  550,1670,550,570,550,1670,550,1670,550,570,550,1670,550,44160,8970,4470,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,1670,
  550,570,550,570,550,1670,550,570,550,570,550,1670,550,1670,550,570,550,1670,550,570,550,570,550,1670,550,570,550,570,550,1670,550,570,
  550,570,550,1670,550,1670,550,570,550,1670,550,1670,550,570,550,1670,550,570,260,1850,270,800,270,1850,270,1850,270,800,270,800,270,1850,
  270,1850,270,800,270,1850,270,800,270,800,270,800,270,1850,270,800,270,42490,270,1850,270,800,270,1850,270,1850,270,800,270,1850,270,800,
  270,800,270,1850,270,800,270,1850,270,1850,270,1850,270,800,270,1850,270,42490,270,1850,270,800,270,1850,270,1850,270,800,270,800,270,1850,
  270,1850,270,800,270,1850,270,800,270,800,270,800,270,1850,270,800,270,42490,270,1850,270,800,270,1850,270,1850,270,800,270,1850,270,800,
  270,800,270,1850,270,800,270,1850,270,1850,270,1850,270,800,270,1850,270,42490,270,1850,270,800,270,1850,270,1850,270,800,270,800,270,1850,
  270,1850,270,800,270,1850,270,800,270,800,270,800,270,1850,270,800,270,800,8480,4300,510,560,510,1620,510,560,510,1620,510,560,510,1620,
  510,560,510,1620,510,1620,510,560,510,1620,510,560,510,1620,510,560,510,1620,510,560,510,1620,510,1620,510,560,510,1620,510,1620,510,560,
  510,560,510,560,510,560,510,560,510,1620,510,560,510,560,510,1620,510,1620,510,1620,510,28420,8500,4290,510,560,510,1620,510,560,510,1620,
  510,560,510,1620,510,560,510,1620,510,1620,510,560,510,1620,510,560,510,1620,510,560,510,1620,510,560,510,1620,510,1620,510,560,510,1620,
  510,1620,510,560,510,560,510,560,510,560,510,560,510,1620,510,560,510,560,510,1620,510,1620,510,1620,510,560,160,5590,170,5590,170,8470,
  170,5590,170,8470,160,5590,170,8470,160,8470,170,8470,160,5590,170,8470,160,59000,170,5590,160,5590,170,8470,160,5590,170,8470,160,5590,170,8470,
  170,8470,170,8470,160,5590,170,8470,170,5590,160,7380,160,7390,160,7390,160,7390,160,7390,160,7390,160,4840,160,4840,160,4840,160,4840,160,4840,
  160,47950,160,7390,160,7390,160,7390,160,7390,160,7390,160,7390,160,4840,160,4840,160,4840,160,4840,160,4840,160,7380,7990,4000,480,1600,480,1600,
  480,520,480,1600,480,1600,480,520,480,520,480,520,480,4000,480,1600,480,1600,480,1600,480,1600,480,1600,480,520,480,520,480,520,480,21200,
  7990,4000,480,1600,480,1600,480,520,480,1600,480,1600,480,520,480,520,480,520,480,4000,480,1600,480,1600,480,1600,480,1600,480,1600,480,520,
  480,520,480,520,480,1600,170,8500,170,5540,170,8510,160,8510,170,8510,170,5540,170,8510,170,8510,160,8510,170,5540,170,8510,170,48470,170,8510,
  170,5540,170,8510,170,8510,160,8510,170,5540,170,8510,170,8510,160,8510,170,5540,160,8510,170,8500,140,7430,140,7430,140,7430,140,7430,140,7430,
  140,7430,140,4910,140,4910,140,4910,140,4910,140,4910,140,51260,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,4910,
  140,4910,140,4910,140,7430,140,7430,140,4910,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,7430,140,4910,140,4910,140,48740,140,7430,
  140,4910,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,7430,140,4910,140,4910,140,7430,7990,4000,480,1600,480,520,480,1600,480,520,
  480,1600,480,520,480,520,480,520,480,4000,480,1600,480,520,480,1600,480,520,480,1600,480,520,480,520,480,520,480,23350,7990,4000,480,1600,
  480,520,480,1600,480,520,480,1600,480,520,480,520,480,520,480,4000,480,1600,480,520,480,1600,480,520,480,1600,480,520,480,520,480,520,
  480,1600,30,390,30,90,30,90,30,90,30,90,30,290,30,190,30,90,30,90,30,90,30,90,30,90,30,190,30,390,30,99680,
  30,390,30,90,30,90,30,90,30,90,30,290,30,190,30,90,30,90,30,90,30,90,30,90,30,190,30,390,150,6050,150,1380,
  150,1380,150,1380,150,1380,150,1380,150,1380,150,4460,150,1380,150,1380,150,1380,150,1380,150,1380,150,6050,150,65650,150,6050,150,1380,150,1380,
  150,1380,150,1380,150,1380,150,1380,150,4460,150,1380,150,1380,150,1380,150,1380,150,1380,150,6050,150,6050,480,1480,480,500,480,1490,480,500,
  480,1490,480,500,480,500,480,500,480,500,480,500,480,14240,480,1490,480,500,480,1490,480,500,480,1490,480,500,480,500,480,500,480,500,
  480,500,480,1480,870,6390,880,2750,880,2750,880,2750,880,6390,880,2750,880,6390,880,6390,880,6390,880,2750,880,2750,30,380,30,80,30,180,
  30,80,30,80,30,240,30,180,30,80,30,80,30,80,30,80,30,80,30,80,30,380,30,99690,30,380,30,80,30,180,30,80,
  30,80,30,240,30,180,30,80,30,80,30,80,30,80,30,80,30,80,30,380,150,4930,160,6980,160,6980,160,6980,160,6980,160,6980,
  160,6980,160,14140,160,4930,160,6980,160,6980,160,6980,160,6980,160,6980,160,6980,160,6980,130,6080,140,1410,140,1410,140,1410,140,2960,140,1410,
  140,1410,140,4510,140,1410,140,1410,140,1410,140,1410,140,2960,140,6060,140,62070,140,6080,140,1410,140,1410,140,1410,140,2960,140,1410,140,1410,
  140,4510,140,1410,140,1410,140,1410,140,1410,140,2960,140,6060,140,1410,150,4930,160,4930,160,6980,160,4930,160,6980,160,6980,160,6980,160,14140,
  160,4930,160,4930,160,6980,160,4930,160,6980,160,6980,160,6980,160,4930,30,280,30,80,30,80,30,80,30,80,30,80,30,80,30,180,
  30,80,30,80,30,80,30,80,30,280,30,127310,30,280,30,80,30,180,30,180,30,180,30,180,30,80,30,180,30,80,30,80,
  30,80,30,80,30,280,460,2600,460,1060,930,530,460,530,460,530,460,530,460,530,460,530,460,530,460,530,460,530,460,530,460,530,
  460,530,460,530,460,15020,460,2600,460,1060,460,530,930,530,460,1060,460,530,460,530,460,530,460,530,460,530,460,530,460,530,930,1060,
  460,530,460,109620,460,2600,460,1060,460,530,930,530,460,1060,460,530,460,530,460,530,460,530,460,530,460,530,460,530,930,1060,460,530,
  460,2600,30,280,30,80,30,80,30,80,30,80,30,80,30,180,30,80,30,80,30,80,30,80,30,80,30,280,30,127310,30,280,
  30,80,30,180,30,180,30,180,30,180,30,180,30,80,30,80,30,80,30,80,30,80,30,280,140,7430,140,7430,140,7430,140,7430,
  140,7430,140,7430,140,4910,140,4910,140,4910,140,4910,140,7430,140,46740,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,
  140,4910,140,4910,140,7430,140,7430,140,7430,140,4910,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,4910,140,4910,140,51260,
  140,7430,140,4910,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,4910,140,4910,140,7430,440,8150,450,8150,450,8150,450,5280,
  450,8150,450,5280,450,8150,450,8150,450,8150,450,5280,450,8150,450,50000,450,8150,450,8150,450,8150,450,5280,450,8150,450,5280,450,8150,450,8150,
  450,8150,450,5280,450,8150,450,8150,140,7430,140,4910,140,7430,140,4910,140,7430,140,4910,140,4910,140,4910,140,4910,140,4910,140,4910,140,58810,
  140,7430,140,4910,140,7430,140,4910,140,7430,140,4910,140,4910,140,4910,140,4910,140,4910,140,4910,140,7430,8980,4510,530,1710,530,560,530,1710,
  530,560,530,560,530,560,530,560,530,1710,530,560,530,1710,530,1710,530,560,530,560,530,560,530,1710,530,560,530,560,530,1710,530,560,
  530,560,530,1710,530,560,530,560,530,560,530,1710,530,560,530,1710,530,1710,530,560,530,1710,530,1710,530,1710,530,39500,9000,2260,530,95990,
  9000,2260,530,1710,480,2460,500,940,1000,470,500,470,500,470,500,470,500,470,500,470,500,470,500,470,500,470,500,470,500,470,500,470,
  500,470,500,470,500,14880,500,2450,500,940,500,470,1000,470,500,940,500,470,500,470,500,470,500,470,1000,940,1000,940,1000,470,500,940,
  500,109700,500,2450,500,940,500,470,1000,470,500,940,500,470,500,470,500,470,500,470,1000,940,1000,940,1000,470,500,940,500,109700,500,2450,
  500,940,500,470,1000,470,500,940,500,470,500,470,500,470,500,470,1000,940,1000,940,1000,470,500,940,500,940,170,8460,160,8470,170,8470,
  160,8470,170,8470,170,5590,170,8470,160,8470,170,8470,170,5590,170,8470,160,59000,170,8470,170,8470,160,8470,170,8470,160,8470,170,5590,160,8470,
  170,8470,160,8470,170,5590,160,8470,170,8460,140,7430,140,4910,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,7430,140,7430,
  140,46220,140,7430,140,4910,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,7430,140,7430,140,7430,240,1850,270,780,270,1830,
  270,780,270,1830,270,780,270,780,270,780,270,780,270,780,270,15420,270,1830,270,780,270,1830,270,780,270,1830,270,780,270,780,270,780,
  270,780,270,780,270,780,4470,4530,560,1680,560,550,560,1680,560,550,560,550,560,550,560,550,560,550,560,1680,560,550,560,1680,560,550,
  560,550,560,550,560,550,560,550,560,550,560,1680,560,550,560,550,560,550,560,550,560,550,560,550,560,1680,560,550,560,1680,560,1680,
  560,1680,560,1680,560,1680,560,1680,560,48500,4480,4530,560,1680,560,550,560,1680,560,550,560,550,560,550,560,550,560,550,560,1680,560,550,
  560,1680,560,550,560,550,560,550,560,550,560,550,560,550,560,1680,560,550,560,550,560,550,560,550,560,550,560,550,560,1680,560,550,
  560,1680,560,1680,560,1680,560,1680,560,1680,560,1680,560,1680,490,2500,490,520,1000,520,490,520,490,520,490,520,490,23770,490,2520,490,520,
  1000,1020,490,520,490,520,490,520,490,120090,490,2520,490,520,1000,1020,490,520,490,520,490,520,490,2500,4480,4450,550,550,550,550,550,550,
  550,1670,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,1670,550,550,550,550,550,550,550,550,550,1670,550,1670,550,1670,
  550,1670,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,1670,550,1670,550,1670,550,1670,550,50230,4500,4440,550,1670,
  550,95060,4500,4440,550,1670,550,550,490,2620,490,1040,1000,1030,490,530,490,530,490,530,490,80300,490,2640,490,1040,1000,1030,490,530,490,530,
  490,530,490,2620,470,2670,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,550,500,20550,500,2650,500,1100,500,550,
  1000,570,500,550,500,1100,500,550,500,550,500,550,500,121170,500,2650,500,1100,500,550,1000,570,500,550,500,1100,500,550,500,550,500,550,
  500,550,19310,3890,480,1960,480,1960,480,1960,480,1960,480,980,480,980,480,1960,480,1960,480,1960,480,980,480,1960,480,1960,480,980,480,980,
  480,980,480,980,480,1960,480,1960,480,980,480,980,480,980,480,1960,480,980,480,980,970,8360,3950,3880,480,1960,480,1960,480,1960,480,1960,
  480,980,480,980,480,1960,480,1960,480,1960,480,980,480,1960,480,1960,480,980,480,980,480,980,480,980,480,1960,480,1960,480,980,480,980,
  480,980,480,1960,480,980,480,980,970,8360,3950,3880,480,1960,480,1960,480,1960,480,1960,480,980,480,980,480,1960,480,1960,480,1960,480,980,
  480,1960,480,1960,480,980,480,980,480,980,480,980,480,1960,480,1960,480,980,480,980,480,980,480,1960,480,980,480,1960,30,420,30,90,
  30,90,30,90,30,90,30,90,30,90,30,310,30,90,30,90,30,90,30,90,30,90,30,420,30,109570,30,420,30,90,30,90,
  30,90,30,90,30,90,30,90,30,310,30,90,30,90,30,90,30,90,30,90,30,420,490,2620,490,530,1000,1030,490,530,490,530,
  490,530,490,80300,490,2640,490,530,1000,1030,490,530,490,530,490,530,490,2620,440,8150,450,8150,450,8150,450,8150,450,8150,450,5280,450,8150,
  450,8150,450,8150,450,5280,450,8150,450,47130,450,8150,450,8150,450,8150,450,8150,450,8150,450,5280,450,8150,450,8150,450,8150,450,5280,450,8150,
  450,8150,140,7430,140,4910,140,7430,140,4910,140,7430,140,4910,140,7430,140,4910,140,4910,140,4910,140,4910,140,54300,140,7430,140,4910,140,7430,
  140,4910,140,7430,140,4910,140,7430,140,4910,140,4910,140,4910,140,4910,140,7430,190,780,210,770,210,770,210,770,210,770,210,770,210,770,
  210,770,210,770,210,770,210,770,210,270,210,270,210,270,210,270,210,770,210,270,210,270,210,270,210,270,210,270,210,270,210,270,
  210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,770,210,770,210,270,
  210,270,210,37850,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,270,210,270,210,270,
  210,270,210,770,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,
  210,270,210,270,210,270,210,270,210,270,210,270,210,770,210,770,210,270,210,270,220,0,3470,3470,840,2610,840,880,840,880,840,880,
  840,880,840,2610,840,2610,840,2610,840,2610,840,880,840,880,840,880,840,880,840,2610,840,2610,840,2610,840,2610,840,880,840,880,840,880,
  840,880,840,2610,840,2610,840,2610,840,33600,3470,3480,840,2610,840,880,840,880,840,880,840,880,840,2610,840,2610,840,2610,840,2610,840,880,
  840,880,840,880,840,880,840,2610,840,2610,840,2610,840,2610,840,880,840,880,840,880,840,880,840,2610,840,2610,840,2610,840,2610,190,780,
  210,270,210,270,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,770,210,270,210,270,210,270,210,270,210,770,
  210,770,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,
  210,270,210,270,210,270,210,770,210,770,210,270,210,270,210,37850,210,770,210,270,210,270,210,770,210,770,210,770,210,770,210,770,
  210,770,210,770,210,770,210,770,210,270,210,270,210,270,210,270,210,770,210,770,210,270,210,270,210,270,210,270,210,270,210,270,
  210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,270,210,770,210,770,210,270,210,270,
  220,0,130,7410,130,7420,130,7420,130,7420,130,7420,130,7420,130,4900,130,4900,130,4900,130,4900,130,7420,130,54430,130,7420,130,7420,130,7420,
  130,7420,130,7420,130,7420,130,4900,130,4900,130,4900,130,4900,130,7420,130,7410,8430,4070,500,540,500,540,500,1580,500,540,500,1580,500,540,
  500,540,500,540,500,4070,500,1580,500,1580,500,1580,500,1580,500,1580,500,540,500,540,500,540,500,21530,8430,4070,500,540,500,540,500,1580,
  500,540,500,1580,500,540,500,540,500,540,500,4070,500,1580,500,1580,500,1580,500,1580,500,1580,500,540,500,540,500,540,500,540,8820,4540,
  550,1680,550,1680,550,560,550,560,550,560,550,560,550,560,550,1680,550,560,550,1680,550,560,550,1680,550,1680,550,1680,550,1680,550,560,
  550,560,550,560,550,560,550,1680,550,560,550,560,550,560,550,560,550,1680,550,1680,550,1680,550,560,550,1680,550,1680,550,1680,550,1680,
  550,39290,8840,4520,550,1680,550,1680,550,560,550,560,550,560,550,560,550,560,550,1680,550,560,550,1680,550,560,550,1680,550,1680,550,1680,
  550,1680,550,560,550,560,550,560,550,560,550,1680,550,560,550,560,550,560,550,560,550,1680,550,1680,550,1680,550,560,550,1680,550,1680,
  550,1680,550,1680,560,0,8980,4530,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,1700,
  550,1700,550,1700,550,1700,550,1700,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,570,550,1700,550,1700,550,1700,550,1700,
  550,1700,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,140,7430,140,4910,140,7430,140,4910,140,7430,140,4910,140,4910,
  140,4910,140,7430,140,7430,140,7430,140,51260,140,7430,140,4910,140,7430,140,4910,140,7430,140,4910,140,4910,140,4910,140,7430,140,7430,140,7430,
  140,7430,1520,4710,1540,1560,1540,7820,1540,29470,1540,4690,1540,1560,1540,7820,1540,1560,500,2510,500,990,1020,490,500,500,500,500,500,500,500,500,
  500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,14490,500,2520,500,990,500,500,1020,490,500,990,500,500,
  500,500,500,500,500,500,1020,980,1020,980,500,500,1020,980,500,110140,500,2520,500,990,500,500,1020,490,500,990,500,500,500,500,500,500,
  500,500,1020,980,1020,980,500,500,1020,980,500,2510,500,2510,500,990,1020,490,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
  500,500,500,500,500,500,500,500,500,500,500,500,500,14490,500,2520,500,990,500,500,1020,490,500,990,500,500,500,500,500,500,500,500,
  1020,980,1020,490,500,990,1020,980,500,110140,500,2520,500,990,500,500,1020,490,500,990,500,500,500,500,500,500,500,500,1020,980,1020,490,
  500,990,1020,980,500,2510,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,41700,140,7430,
  140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,7430,40,4990,40,4990,40,7500,40,7500,40,7500,
  40,7500,40,4990,40,4990,40,4990,40,4990,40,7500,40,49990,40,4990,40,4990,40,7500,40,7500,40,7500,40,7500,40,4990,40,4990,40,4990,
  40,4990,40,7500,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,7430,140,4910,140,44220,140,7430,140,7430,
  140,7430,140,7430,140,7430,140,7430,140,7430,140,4910,140,4910,140,7430,140,4910,140,7430,130,7410,130,4900,130,4900,130,4900,130,4900,130,4900,
  130,7420,130,7420,130,7420,130,4900,130,4900,130,59390,130,7420,130,4900,130,4900,130,4900,130,4900,130,4900,130,7420,130,7420,130,7420,130,4900,
  130,4900,130,7410,60,8510,60,8510,60,8510,60,5660,60,8510,60,5660,60,8510,60,8510,60,8510,60,5660,60,8510,60,51880,60,8510,60,8510,
  60,8510,60,5660,60,8510,60,5660,60,8510,60,8510,60,8510,60,5660,60,8510,8980,4530,550,570,550,570,550,570,550,570,550,570,550,570,
  550,570,550,570,550,1700,550,1700,550,1700,550,1700,550,1700,550,1700,550,1700,550,1700,550,1700,550,570,550,570,550,570,550,570,550,570,
  550,570,550,570,550,570,550,1700,550,1700,550,1700,550,1700,550,1700,550,1700,550,1700,550,39490,9000,2260,550,96230,9000,2260,560,0,860,910,
  1740,900,870,900,870,900,870,1800,1740,900,870,900,870,1800,870,900,1740,900,870,88680,870,900,1740,900,870,900,870,900,870,1800,1740,900,
  870,900,870,1800,870,900,1740,900,880,0,40,10360,40,10360,40,15070,40,15070,40,15070,40,30050,40,10360,40,10360,40,15070,40,15070,40,15070,
  140,6070,140,1410,140,1410,140,1410,140,1410,140,1410,140,1410,140,4520,140,1410,140,1410,140,1410,140,1410,140,1410,140,6070,140,63100,140,6070,
  140,1410,140,1410,140,1410,140,1410,140,1410,140,1410,140,4520,140,1410,140,1410,140,1410,140,1410,140,1410,140,6070,0,0,
};

void tvbgone()
{
  esp_log_level_set(TVBGONE_TAG, ESP_LOG_INFO);
  int sz = sizeof(codes_eu)/sizeof(codes_eu[0])/3;
  while (true)
  {
    for (int i=0; i<sz; i++) {
        const int* cc= codes_eu+3*i;
        int freq = *(int *)cc;
        int code_size = *(int *)(cc+1);
        int code_offset = *(int *)(cc+2);

        if (freq == 0) {
          continue;
        }
        ESP_LOGI(TVBGONE_TAG, "Frequency %d", freq);
        rmtlib_raw_send(freq, &codes2_eu[code_offset], code_size);

        vTaskDelay(130/portTICK_PERIOD_MS);
    }
  }
} 

int start_stop_bgtask(widget_t *p_widget)
{
  if (widget_switch_get_state(&sw_run) == SWITCH_ON)
  {
    is_shuttingdown = true;
    xTaskCreate(
      tvbgone,
      "TVBGone",
      10000,
      NULL,
      tskIDLE_PRIORITY,
      &xHandle
    );

    /* Disable eco mode. */
    disable_ecomode();
  }
  else
  {
    vTaskDelete(xHandle);
    is_shuttingdown = false;
    
    /* Re-enable eco mode. */
    enable_ecomode();
  }

  return TE_PROCESSED;
}

tile_t *tile_tvbgone_init(void)
{
  tile_init(&tile_tvbgone, NULL);

  /* Initialize our title label. */
  widget_label_init(&lbl_title, &tile_tvbgone, 10, 5, 230, 45, "TV-B-Gone");

  /* Add a frame. */
  widget_frame_init(&frame, &tile_tvbgone, 5, 45, 230, 185);
  widget_set_border_color(&frame.widget, BLUE);

  /* Add a label. */
  widget_label_init(&lbl_run, &tile_tvbgone, 10, 65, 120, 34, "Stealth");

  /* Add a ON/OFF switch */
  widget_switch_init(&sw_run, &tile_tvbgone, 140, 65, 80, 32);
  widget_set_border_color(&sw_run.widget, RGB(0xd,0xd,0xd));
  widget_set_front_color(&sw_run.widget, RGB(0x1, 0x2, 0x3));
  widget_switch_set_handler(&sw_run, start_stop_bgtask);

  return &tile_tvbgone;
}

bool tvbgone_is_enabled(void)
{
  return is_shuttingdown;
}